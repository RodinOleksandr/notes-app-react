(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){},108:function(e,t,n){},110:function(e,t,n){},229:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(74),r=n.n(c),i=n(4),l=n(5),s=n(7),u=n(6),h=n(8),d=n(75),f=new(n(76).Dispatcher),p=n(77),m=n.n(p)()({LOAD_NOTES_REQUEST:null,LOAD_NOTES_SUCCESS:null,LOAD_NOTES_FAIL:null}),N=[],C=!0;function O(e){return{id:e._id,title:e.title,text:e.text,color:e.color||"#ffffff",createdAt:e.createdAt}}var b=Object.assign({},d.EventEmitter.prototype,{isLoading:function(){return C},getNotes:function(){return N},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});f.register(function(e){switch(e.type){case m.LOAD_NOTES_REQUEST:C=!0,b.emitChange();break;case m.LOAD_NOTES_SUCCESS:C=!1,N=e.notes.map(O),null,b.emitChange();break;case m.LOAD_NOTES_FAIL:e.error,b.emitChange();break;default:console.log("No such handler")}});var E=b,g=n(24),v=n.n(g),_=n(25),F=function(){return v.a.get("".concat(_.a,"/notes"))},j=function(e){return v.a.post("".concat(_.a,"/notes"),e)},k=function(e){return v.a.delete("".concat(_.a,"/notes/").concat(e))},A={loadNotes:function(){f.dispatch({type:m.LOAD_NOTES_REQUEST}),F().then(function(e){var t=e.data;return f.dispatch({type:m.LOAD_NOTES_SUCCESS,notes:t})}).catch(function(e){return f.dispatch({type:m.LOAD_NOTES_FAIL,error:e})})},createNote:function(e){var t=this;j(e).then(function(){return t.loadNotes()}).catch(function(e){return console.error(e)})},deleteNote:function(e){var t=this;k(e).then(function(){return t.loadNotes()}).catch(function(e){return console.error(e)})}},S=n(3),y=(n(105),n(49),n(78)),D=n.n(y),x=["#FFFFFF","#80D8FF","#FFFF8D","#FF8A80","#CCFF90","#CFD8DC","#FFD180"],L=function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"ColorPicker"},x.map(function(t){return o.a.createElement("div",{key:t,className:D()("ColorPicker__swatch",{selected:e.props.value===t}),style:{backgroundColor:t},onClick:e.props.onChange.bind(null,t)})}))}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={title:"",text:"",color:"#FFFFFF"},n.handleTitleChange=n.handleTitleChange.bind(Object(S.a)(Object(S.a)(n))),n.handleTextChange=n.handleTextChange.bind(Object(S.a)(Object(S.a)(n))),n.handleNoteAdd=n.handleNoteAdd.bind(Object(S.a)(Object(S.a)(n))),n.handleColorChange=n.handleColorChange.bind(Object(S.a)(Object(S.a)(n))),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleColorChange",value:function(e){this.setState({color:e})}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleTextChange",value:function(e){this.setState({text:e.target.value})}},{key:"handleNoteAdd",value:function(){var e={title:this.state.title,text:this.state.text,color:this.state.color};this.props.onNoteAdd(e),this.setState({text:"",title:"",color:"#FFFFFF"})}},{key:"render",value:function(){return o.a.createElement("div",{className:"NoteEditor"},o.a.createElement("input",{type:"text",className:"NoteEditor__title",placeholder:"Enter title",value:this.state.title,onChange:this.handleTitleChange}),o.a.createElement("textarea",{placeholder:"Enter note text",rows:5,className:"NoteEditor__text",value:this.state.text,onChange:this.handleTextChange}),o.a.createElement("div",{className:"NoteEditor__footer"},o.a.createElement(L,{value:this.state.color,onChange:this.handleColorChange}),o.a.createElement("button",{className:"NoteEditor__button",disabled:!this.state.text,onClick:this.handleNoteAdd},"Add")))}}]),t}(a.Component),w=(n(108),function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={backgroundColor:this.props.color};return o.a.createElement("div",{className:"Note",style:e},o.a.createElement("span",{className:"Note__del-icon",onClick:this.props.onDelete}," \xd7 "),this.props.title?o.a.createElement("h4",{className:"Note__title"},this.props.title):null,o.a.createElement("div",{className:"Note__text"},this.props.children))}}]),t}(a.Component)),U=(n(110),n(79)),I=n.n(U),W=function(e){function t(e){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(I.a,{className:"NotesGrid",options:{itemSelector:".Note",columnWidth:90,gutter:10,isFitWidth:!0}},this.props.notes.map(function(t){return o.a.createElement(w,{key:t.id,title:t.title,onDelete:e.props.onNoteDelete.bind(null,t),color:t.color},t.text)}))}}]),t}(a.Component);n(229);function Q(){return{isLoading:E.isLoading(),notes:E.getNotes()}}var R=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._onChange=function(){n.setState(Q())},n.state=Q(),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){A.loadNotes()}},{key:"componentDidMount",value:function(){E.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){E.removeChangeListener(this._onChange)}},{key:"handleNoteAdd",value:function(e){A.createNote(e)}},{key:"handleNoteDelete",value:function(e){A.deleteNote(e.id)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h2",{className:"App__header"},"NotesApp"),o.a.createElement(T,{onNoteAdd:this.handleNoteAdd}),o.a.createElement(W,{notes:this.state.notes,onNoteDelete:this.handleNoteDelete}))}}]),t}(a.Component);r.a.render(o.a.createElement(R,null),document.getElementById("root"))},25:function(e){e.exports={a:"http://localhost:8080"}},49:function(e,t,n){},80:function(e,t,n){e.exports=n(231)}},[[80,2,1]]]);
//# sourceMappingURL=main.743bc3fe.chunk.js.map